# 시스템 공지사항 기능 요구사항 (v1)

## 1. 개요
본 문서는 시스템 공지사항 기능과 관련된 사용자 인터페이스(UI) 및 기능적 요구사항을 정의합니다. 대상 컴포넌트는 `NoticeList`, `NoticeCard`, `NoticeDetailModal` 입니다.

---

## 2. 공지 목록 (`NoticeList.tsx`)

### 2.1. 데이터 로딩
- **R-2.1.1**: 공지 목록 데이터를 서버에서 불러오는 동안, 스켈레톤 UI를 표시하여 로딩 중임을 사용자에게 알려야 한다.
- **R-2.1.2**: 데이터 로딩이 실패할 경우를 대비한 예외 처리가 필요하다 (현재는 구현되지 않음, 향후 개선 필요).

### 2.2. 데이터 필터링 및 정렬
- **R-2.2.1**: `is_published` 속성이 `true`인 공지만 목록에 표시해야 한다.
- **R-2.2.2**: 현재 시간을 기준으로 `publish_start_dt`와 `publish_end_dt` 사이의 유효한 기간에 있는 공지만 표시해야 한다.
- **R-2.2.3**: `is_pinned` 속성이 `true`인 공지를 목록 최상단에 우선적으로 정렬해야 한다.

### 2.3. 공지 숨김 (읽음 처리)
- **R-2.3.1**: 사용자가 '숨김' 버튼을 클릭하면, 해당 공지의 ID를 브라우저의 `localStorage`에 저장해야 한다.
- **R-2.3.2**: 목록을 표시하기 전 `localStorage`를 확인하여, 숨김 처리된 공지는 필터링하여 제외해야 한다.

### 2.4. UI 처리
- **R-2.4.1**: 필터링 후 표시할 공지가 하나도 없을 경우, 공지 목록 컴포넌트 전체(`div`)를 렌더링하지 않아야 한다.

### 2.5. 읽음 상태 관리 (신규)
- **R-2.5.1**: 사용자가 공지 상세 내용을 조회했을 때, 해당 공지 ID를 '읽음'으로 처리하여 `localStorage`에 저장해야 한다.
- **R-2.5.2**: 공지 목록을 렌더링할 때, 각 공지가 '읽음' 상태인지 여부를 `NoticeCard` 컴포넌트로 전달해야 한다.

---

## 3. 공지 카드 (`NoticeCard.tsx`)

### 3.1. 시각적 요소
- **R-3.1.1**: 공지 종류(`notice_type`)에 따라 지정된 스타일(색상, 텍스트)의 뱃지(`Badge`)를 표시해야 한다.
    - **'점검', '장애'**: `destructive` (붉은색 계열)
    - **'업데이트'**: `default` (파란색 계열)
    - **기타/미지정**: `secondary` (회색 계열)
- **R-3.1.2**: 공지 제목(`title`)이 카드의 너비를 초과할 경우, 텍스트를 한 줄로 표시하고 말줄임표(...)로 처리해야 한다. **읽지 않은 공지의 제목은 굵은 폰트(bold)로 표시해야 한다.**
- **R-3.1.3**: 마우스를 카드 위에 올렸을 때(hover), 배경색이 변경되는 시각적 피드백을 제공해야 한다.
- **R-3.1.4 (신규)**: 읽지 않은 공지의 경우, 제목 우측에 식별 가능한 녹색 계열의 점(dot) 마커를 표시해야 한다.

### 3.2. 사용자 인터랙션
- **R-3.2.1**: 카드 영역 전체는 클릭 가능해야 하며, 클릭 시 해당 공지의 상세 모달을 열어야 한다 (`onNoticeClick` 이벤트).
- **R-3.2.2**: 카드 우측의 체크 아이콘 버튼은 **카드에 마우스를 올렸을 때만 노출되어야 하며,** 클릭 시 해당 공지를 숨김 처리해야 한다 (`onHide` 이벤트).
- **R-3.2.3**: 숨김 버튼 클릭 이벤트가 카드 클릭 이벤트로 전파(버블링)되지 않도록 막아야 한다.

### 3.3. 툴팁
- **R-3.3.1**: 숨김 버튼 위에 마우스를 올렸을 때 "보관처리"라는 내용의 툴팁을 표시해야 한다.
- **R-3.3.2**: 툴팁은 `localStorage`에 저장된 카운트를 기반으로, 최초 2회까지만 표시되어야 한다. 3회째부터는 툴팁을 표시하지 않는다.

---

## 4. 공지 상세 모달 (`NoticeDetailModal.tsx`)

### 4.1. 정보 표시
- **R-4.1.1**: 모달 헤더에는 공지 `분류 뱃지`, `제목`, `게시일`, `조회수`를 포함해야 한다.
- **R-4.1.2**: 게시일(`created_at`)은 'YYYY.MM.DD' 형식으로 포맷하여 표시해야 한다.
- **R-4.1.3**: 공지 본문(`content`)은 HTML 형식의 내용을 그대로 렌더링해야 하며, 원본의 줄바꿈과 공백이 유지되어야 한다.

### 4.2. UI 및 편의 기능
- **R-4.2.1**: 공지 본문 내용이 길 경우, 모달 높이는 고정하고 내부에서만 스크롤이 가능해야 한다 (`ScrollArea`).
- **R-4.2.2**: 모달 창은 '확인' 버튼 또는 모달 외부 영역 클릭 시 닫혀야 한다.

---

## 5. 상태 초기화 (테스트)
- **R-5.1.1**: 공지의 '숨김' 및 '읽음' 상태는 브라우저의 `localStorage`에 저장되므로 영구적으로 유지된다.
- **R-5.1.2**: 테스트 등을 목적으로 모든 상태를 초기화하려면, 브라우저의 개발자 도구에서 '사이트 데이터 지우기(Clear Site Data)'를 실행해야 한다. 이를 통해 `localStorage`에 저장된 모든 관련 데이터가 삭제되고, 모든 공지가 최초 상태('안 읽음', '숨겨지지 않음')로 돌아간다. 