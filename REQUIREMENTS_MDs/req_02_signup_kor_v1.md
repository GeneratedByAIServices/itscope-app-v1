# 회원가입 기능 요구사항 (v1)

## 1. 개요
본 문서는 신규 사용자가 서비스에 가입하기 위한 절차의 기능적 요구사항을 정의합니다. 회원가입 흐름은 `이메일 확인`, `회원 정보 입력 및 이메일 인증`, `가입 성공`, `2단계 인증(2FA) 설정`의 순서로 진행됩니다.

---

## 2. 공통 요구사항

### 2.1. 다국어 지원 (Internationalization)
- **R-2.1.1**: 회원가입 흐름의 모든 UI 텍스트(레이블, 버튼, 플레이스홀더, 안내 문구 등)는 다국어(한국어, 영어)를 지원해야 한다.
- **R-2.1.2**: 모든 유효성 검사 오류 메시지와 서버 응답에 따른 토스트(Toast) 알림 메시지는 현재 설정된 언어로 표시되어야 한다.
- **R-2.1.3**: 언어 설정은 사용자의 브라우저 기본 언어를 따르며, 사용자가 플로팅 메뉴를 통해 직접 변경할 수 있어야 한다.

---

## 3. 1단계: 이메일 확인 (`EmailStep`)

### 3.1. 기능 요구사항
- **R-3.1.1**: 사용자는 가입에 사용할 이메일 주소를 입력해야 한다.
- **R-3.1.2**: 시스템은 입력된 이메일이 유효한 형식인지 실시간으로 검증해야 한다 (`validateEmail`).
- **R-3.1.3**: 시스템은 이메일 입력이 끝났을 때(debounce 500ms), 해당 이메일이 데이터베이스(`pm_user`)에 등록되지 않은 신규 이메일인지 자동으로 확인해야 한다 (`checkEmailExists`).
- **R-3.1.4**: 이메일이 등록되지 않은 경우, 시스템은 이를 인지하고 '계속' 버튼 클릭 시 '회원가입' 단계로 분기해야 한다.

### 3.2. 편의 기능
- **R-3.2.1**: 'Google로 로그인/회원가입' 버튼이 제공되어야 한다 (현재는 "준비중" 알림만 표시).

---

## 4. 2단계: 회원 정보 입력 및 이메일 인증 (`SignupStep`)

### 4.1. 기능 요구사항
- **R-4.1.1**: 이전 단계에서 입력한 이메일은 수정 불가능한 상태로 표시되어야 한다.
- **R-4.1.2**: 사용자는 '이름', '비밀번호', '비밀번호 확인' 필드를 입력해야 한다.
- **R-4.1.3**: 시스템은 비밀번호가 정책(최소 8자, 대/소문자, 숫자, 특수문자 포함)에 부합하는지 실시간으로 검증하고 결과를 사용자에게 안내해야 한다 (`validatePassword`).
- **R-4.1.4**: 사용자는 '이용약관'과 '개인정보처리방침'에 동의해야 '회원가입' 버튼이 활성화된다. (`LegalModal`을 통해 내용 확인 가능)
- **R-4.1.5**: 사용자가 '회원가입' 버튼을 클릭하면, 시스템은 입력된 이메일로 6자리 인증 코드를 발송해야 한다.
- **R-4.1.6**: 인증 코드 입력 UI가 나타나야 하며, 사용자는 이메일로 받은 코드를 입력해야 한다.
- **R-4.1.7**: 인증 코드 입력 필드는 UI가 표시될 때 자동으로 포커스되어야 한다.
- **R-4.1.8**: 시스템은 입력된 코드가 유효한지 검증해야 한다.
- **R-4.1.9**: 인증에 성공하면 '가입 성공' 단계로 이동해야 한다.
- **R-4.1.10**: 인증에 실패하면 "인증 코드가 올바르지 않습니다." 와 같은 오류 메시지를 현재 설정된 언어에 맞춰 표시해야 한다.

### 4.2. 편의 기능
- **R-4.2.1**: 좌측 정보 패널(`SignUpInfoPanel`)에는 회원가입의 이점을 설명하는 안내 문구가 표시되어야 한다. (e.g., "계정 하나로 모든 팀 프로젝트를 관리하세요.")
- **R-4.2.2**: '다른 계정으로 가입' 버튼을 클릭하면, 이메일 입력 단계로 돌아가야 한다.

---

## 5. 3단계: 가입 성공 (`SuccessStep`)

### 5.1. 기능 요구사항
- **R-5.1.1**: 회원가입 및 이메일 인증이 성공적으로 완료되면, `SuccessStep` 컴포넌트가 렌더링되어야 한다.
- **R-5.1.2**: "성공적으로 가입되었습니다"와 같은 환영 메시지와 함께 가입에 사용된 이메일 주소가 표시되어야 한다.
- **R-5.1.3**: 사용자가 '계속' 버튼을 클릭하면, '2단계 인증 설정' 단계로 이동해야 한다.

---

## 6. 4단계: 2단계 인증(TFA) 설정 (`TwoFactorStep`)
- *로그인 시의 2단계 인증 요구사항과 동일 (`req_01_signin_kor_v1.md`의 5. 3단계 참조)*
- **R-6.1.1**: 최초 가입자는 보안 강화를 위해 2단계 인증 설정을 필수로 진행해야 한다.

---

## 7. 활동 로깅

### 7.1. 기능 요구사항
- **R-7.1.1**: **(가입 성공)** 최종 가입 성공 시, 시스템은 `pm_user_account_log` 테이블에 'SignupSuccess' 유형으로 활동 로그를 기록해야 한다. 